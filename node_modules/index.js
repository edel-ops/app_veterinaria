const http = require('http');
const url = require('url');

const callbackDelServidor = (req, res) => {

  // obtener la url desde el objeto request (req)
  const urlActual = req.url;
  const urlParseada = url.parse(urlActual, true);
  console.log({ urlActual, urlParseada });

  // obtener la ruta
  const ruta = urlParseada.pathname;

  // enviar la respuesta dependiendo de la ruta
  if (ruta === '/ruta') {
    res.end('Hola estas en /ruta');
  } 
  else {
    res.end('Oops no estas en /ruta');
  }
};

const server = http.createServer(callbackDelServidor);

server.listen(5000, () => {
  console.log('el servidor esta escuchando peticiones en http://localhost:5000/');
});